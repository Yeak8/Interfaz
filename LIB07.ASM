EXTRN TEXTO2:BYTE
EXTRN NUMEROS:WORD
EXTRN TEXTO5:BYTE
EXTRN TEXTO4:BYTE
EXTRN TEXTO1:BYTE
EXTRN TEXTO3:BYTE
EXTRN TEXTO3:BYTE
EXTRN TEXTO6:BYTE
EXTRN TEXTO7:BYTE
EXTRN numDatos:BYTE
EXTRN numeroDatos:WORD
PUBLIC INGRESONUMEROS
PUBLIC ORDENAR_DESC
PUBLIC ORDENAR_ASC
PUBLIC IMPRIMIR
PUBLIC REPETIR
PUBLIC ESPACIO
PUBLIC TITULOINICIAL
PUBLIC TIPOORDENAMIENTO
PUBLIC NUMERODEELEMENTOS
PUBLIC INICIALIZAR

DATA1 SEGMENT PARA PUBLIC 'DATA'

DATA1 ENDS
;---------------------------------------------------------------------

CODE SEGMENT PARA PUBLIC 'CODE'
ASSUME CS:CODE, DS:DATA1

INGRESONUMEROS PROC FAR

MOV AX, 0
MOV BX, 0
MOV SI, 0
MOV DI, 0
CICLO_INGRESONUMEROS:
MOV AH, 09H            ;Funcion para imprimir caracteres
MOV DX, OFFSET TEXTO2  ;TEXTO2 contiene la indicacion de ingresar numero
INT 21H

MOV AH, 01H     ;lectura del primer digito
INT 21H
MOV BH,AL

MOV AH, 01H          ;lectura del segundo digito
INT 21H
MOV BL, AL
MOV NUMEROS[SI],  BX


INC SI
INC SI
INC DI
CMP DI, numeroDatos
JL CICLO_INGRESONUMEROS

MOV SI,0
MOV DI, 0

;POP DS
RET
INGRESONUMEROS ENDP

;__________________________
ORDENAR_DESC PROC FAR
MOV CX, 0
DESC2:
MOV AX, NUMEROS[SI]
MOV BX, NUMEROS[DI]

CMP AX, BX
JG SWAPMAYOR
JMP CONTINUA
	SWAPMAYOR:
		MOV NUMEROS[DI], AX
		MOV NUMEROS[SI], BX
		JMP DESC2

CONTINUA:
INC DI
INC DI
INC CX
CMP CX, numeroDatos
JL DESC2
MOV DI, 0
MOV CX, 0
INC SI
INC SI
INC DX
CMP DX, numeroDatos
JL DESC2
RET 
ORDENAR_DESC ENDP


;_____________________
ORDENAR_ASC PROC FAR  ;se cambio near a far	
MOV CX, 0
ASC2:
MOV AX, NUMEROS[SI]
MOV BX, NUMEROS[DI]

CMP AX, BX
JL SWAPMENOR
JMP CONTINUA2
	SWAPMENOR:
	MOV NUMEROS[DI], AX
	MOV NUMEROS[SI], BX
	JMP ASC2

CONTINUA2:
INC DI
INC DI
INC CX
CMP CX, numeroDatos
JL ASC2
MOV DI, 0
MOV CX, 0
INC SI
INC SI
INC DX
CMP DX, numeroDatos
JL ASC2
RET 
ORDENAR_ASC ENDP

;______________________
IMPRIMIR PROC FAR ;se cambio near a far
MOV AX, 0600H     ;limpia la pantalla
MOV BH, 07H
MOV CX, 0000H
MOV DX,164FH
INT 10H

MOV AH,02H			;FUNCION DE COLOCACION DE CURSOR
MOV BH,0			;PAGINA NORMALMENTE ES CERO
MOV DH,0			;FILA
MOV DL,0			;COLUMNA
INT 10H

MOV SI, 0
MOV DI, 0
MOV BX, 0
MOV AX, 0
MOV DX, 0
CICLO_IMPRESION:
MOV AX,DI ;EN AX EL NUMERO ACTUAL DE REPETICION
CMP AX, 0
JNE SINOESELPRIMERO
JMP CONTINUA3
SINOESELPRIMERO:
MOV CL, 10
DIV CL
CMP AH, 0
JE NUEVALINEA
JMP CONTINUA3
	NUEVALINEA:
	MOV AH, 09H
	MOV DX, OFFSET TEXTO5
	INT 21H
CONTINUA3:

MOV BX, NUMEROS[SI]
MOV DL, BH
MOV AH, 06H	;PRIMER DIGITO
INT 21H

MOV DL, BL	;SEGUNDO DIGITO
MOV AH, 06H
INT 21H

MOV AH, 09H		;FUNCION PARA IMPRIMIR CARACTERES
MOV DX, OFFSET TEXTO7 	;TEXTO7 CONTIENE ESPACIO BLANCO
INT 21H

INC SI
INC SI
INC DI
CMP DI, numeroDatos
JL CICLO_IMPRESION

RET
IMPRIMIR ENDP

;___________
REPETIR PROC FAR		; SE CAMBIO NEAR A FAR

	MOV AH, 09H
	MOV DX, OFFSET TEXTO4
	INT 21H
	
	MOV AX, 0
	MOV AH, 01H
	INT 21H
	;CMP AL,49
RET
REPETIR ENDP

;______________________________
ESPACIO PROC FAR

MOV AH, 09H
MOV DX, OFFSET TEXTO5
INT 21H
RET
ESPACIO ENDP

;______________
TITULOINICIAL PROC FAR
MOV AH, 09H
MOV DX, OFFSET TEXTO1
INT 21H
RET
TITULOINICIAL ENDP

;______________________________
TIPOORDENAMIENTO PROC FAR

MOV AH, 09H
MOV DX, OFFSET TEXTO3
INT 21H
MOV AH,01H
INT 21H
MOV DX,0
MOV DI, 0
MOV SI, 0
RET
TIPOORDENAMIENTO ENDP

;___________________________
NUMERODEELEMENTOS PROC FAR

MOV AH, 09H
MOV DX, OFFSET TEXTO6
INT 21H

MOV AH,01H
INT 21H
SUB AL, 30H
MOV numDatos[0], AL
MOV AH,01H
INT 21H
SUB AL, 30H
MOV numDatos[1], AL
MOV AH,01H
INT 21H
SUB AL, 30H
MOV numDatos[2], AL

MOV AX, 0
MOV DX, 0
MOV BL, numDatos[2]

MOV CL, 10
MOV AL, numDatos[1]
MUL CL
ADD BX, AX

MOV CL, 100
MOV AL, numDatos[0]
MUL CL
ADD BX, AX
MOV numeroDatos, BX

RET
NUMERODEELEMENTOS ENDP

INICIALIZAR PROC FAR

MOV AX, 0
MOV BX,0
MOV CX,0
MOV DX, 0
MOV numeroDatos, 0
MOV DI, 0
MOV SI, 0
RET
INICIALIZAR ENDP
CODE ENDS
END